#include <iostream>
using namespace std;

int post[1024];
int preStart = 0;

class Node
{
public:
	Node* left;
	Node* right;
	int data;

	Node() :left(NULL), right(NULL), data(0)
	{
	}

	Node(int d) :left(NULL), right(NULL), data(d)
	{
	}
};

void makeArr(int pre[], int in[], int start, int end)
{
	if (start >= end)
		return;

	int originalEnd = end;
	int root = pre[preStart++];
	for (int i = start; i < end; i++) // update root
		if (in[i] == root)
			end = i;

	makeArr(pre, in, start, end - 1);
	makeArr(pre, in, end + 1, originalEnd);
}

int main()
{
	int T;
	cin >> T;
	while (T--)
	{
		int N;
		cin >> N;

		int *pre = new int[N];
		int *in = new int[N];

		for (int i = 0; i < N; i++)
			cin >> pre[i];
		for (int i = 0; i < N; i++)
			cin >> in[i];

		makeArr(pre, in, 0, N - 1);
	}

	return 0;
}
